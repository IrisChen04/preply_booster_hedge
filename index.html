<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Language Corpus Viewer</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif; line-height: 1.6; color: #1a1a1a; background-color: #fafafa; padding: 0; }
  .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
  header { background-color: #fff; padding: 32px 40px; margin-bottom: 24px; border-bottom: 2px solid #3498db; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
  h1 { font-size: 32px; font-weight: 600; margin-bottom: 8px; color: #1a1a1a; letter-spacing: -0.5px; }
  .subtitle { font-size: 15px; color: #666; font-weight: 400; }
  
  .view-toggle { background-color: #fff; padding: 16px 24px; margin-bottom: 24px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); display: flex; gap: 12px; }
  .toggle-btn { padding: 10px 24px; border: 2px solid #3498db; background: white; color: #3498db; border-radius: 6px; cursor: pointer; font-weight: 600; transition: all 0.3s; }
  .toggle-btn.active { background: #3498db; color: white; }
  .toggle-btn:hover { background: #2980b9; color: white; }
  
  .controls-panel { background-color: #fff; padding: 24px; margin-bottom: 24px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
  .controls-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 20px; }
  .control-group { display: flex; flex-direction: column; gap: 8px; }
  .control-label { font-weight: 600; font-size: 13px; color: #1a1a1a; text-transform: uppercase; letter-spacing: 0.5px; }
  .control-group select, .control-group input { padding: 10px 14px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; font-family: inherit; background-color: #fff; transition: border-color 0.2s; }
  .control-group select:focus, .control-group input:focus { outline: none; border-color: #3498db; }
  
  .search-row { display: grid; grid-template-columns: 1fr auto; gap: 12px; padding-top: 20px; border-top: 1px solid #e0e0e0; }
  .search-input { padding: 10px 14px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; font-family: inherit; }
  .search-button { padding: 10px 24px; background-color: #3498db; color: #fff; border: none; border-radius: 6px; font-size: 14px; font-weight: 600; cursor: pointer; transition: background-color 0.2s; }
  .search-button:hover { background-color: #2980b9; }
  
  .stats-bar { background-color: #fff; padding: 20px 24px; margin-bottom: 24px; border-radius: 8px; border-left: 4px solid #3498db; box-shadow: 0 1px 3px rgba(0,0,0,0.05); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px; }
  .stat-item { font-size: 14px; }
  .stat-label { font-weight: 500; color: #666; margin-right: 6px; }
  .stat-value { color: #3498db; font-weight: 700; font-size: 16px; }
  
  .pagination { background-color: #fff; padding: 20px 24px; margin-bottom: 24px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px; }
  .pagination-info { font-size: 14px; color: #666; }
  .pagination-controls { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
  .page-button { padding: 8px 16px; background-color: #fff; color: #3498db; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s; }
  .page-button:hover:not(:disabled) { background-color: #f0f0f0; }
  .page-button:disabled { opacity: 0.5; cursor: not-allowed; }
  .page-button.active { background-color: #3498db; color: #fff; border-color: #3498db; }
  .page-size-select { padding: 8px 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; font-family: inherit; }
  
  .profile-card { margin-bottom: 24px; padding: 24px; background-color: #fff; border: 1px solid #e8e8e8; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
  .profile-header { display: flex; justify-content: space-between; align-items: start; margin-bottom: 20px; padding-bottom: 16px; border-bottom: 2px solid #f0f0f0; }
  .profile-name { font-size: 24px; font-weight: 700; color: #1a1a1a; }
  .profile-badges { display: flex; gap: 8px; flex-wrap: wrap; }
  
  .profile-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 16px; margin-bottom: 20px; }
  .profile-stat { background: #f8f9fa; padding: 12px; border-radius: 6px; text-align: center; }
  .profile-stat-value { font-size: 24px; font-weight: 700; color: #3498db; }
  .profile-stat-label { font-size: 12px; color: #666; margin-top: 4px; }
  
  .frequency-section { margin-top: 20px; }
  .frequency-title { font-size: 16px; font-weight: 600; margin-bottom: 12px; color: #1a1a1a; }
  .frequency-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 8px; }
  .frequency-item { display: flex; justify-content: space-between; padding: 8px 12px; background: #f8f9fa; border-radius: 4px; }
  .frequency-word { font-weight: 500; color: #333; }
  .frequency-count { color: #3498db; font-weight: 600; }
  
  .sentences-section { margin-top: 24px; padding-top: 24px; border-top: 2px solid #f0f0f0; }
  .sentences-title { font-size: 16px; font-weight: 600; margin-bottom: 16px; color: #1a1a1a; }
  .sentence-item { padding: 12px; background: #fafafa; border-left: 3px solid #3498db; margin-bottom: 12px; border-radius: 4px; }
  .sentence-index { font-size: 12px; color: #999; font-weight: 600; margin-bottom: 6px; }
  .sentence-text { font-size: 14px; line-height: 1.6; color: #333; margin-bottom: 8px; }
  .sentence-features { display: flex; gap: 12px; font-size: 12px; flex-wrap: wrap; }
  .feature-tag { padding: 4px 8px; background: #e0f2fe; color: #0c4a6e; border-radius: 3px; }
  .feature-words { display: flex; gap: 4px; flex-wrap: wrap; margin-top: 4px; }
  .feature-word { padding: 2px 6px; background: #dbeafe; color: #1e40af; border-radius: 2px; font-size: 11px; }
  
  .corpus-card { margin-bottom: 20px; padding: 20px; background-color: #fff; border: 1px solid #e8e8e8; border-radius: 6px; transition: box-shadow 0.2s; position: relative; }
  .corpus-card:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
  .corpus-card.has-boosters { border-left: 4px solid #27ae60; }
  .corpus-card.has-hedges { border-left: 4px solid #f39c12; }
  
  .card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 14px; gap: 16px; }
  .speaker-name { font-size: 18px; font-weight: 600; color: #1a1a1a; flex: 1; cursor: pointer; color: #3498db; }
  .speaker-name:hover { text-decoration: underline; }
  .speaker-badges { display: flex; gap: 8px; flex-wrap: wrap; }
  
  .badge { padding: 6px 12px; border-radius: 4px; font-size: 11px; font-weight: 700; text-transform: uppercase; white-space: nowrap; letter-spacing: 0.5px; }
  .badge-gender-male { background-color: #dbeafe; color: #1e40af; }
  .badge-gender-female { background-color: #fce7f3; color: #be185d; }
  .badge-native { background-color: #d1fae5; color: #065f46; }
  .badge-non-native { background-color: #fef3c7; color: #92400e; }
  .badge-price { background-color: #e0e7ff; color: #3730a3; }
  
  .metadata { display: flex; gap: 20px; flex-wrap: wrap; margin-bottom: 14px; font-size: 13px; }
  .meta-item { display: flex; align-items: center; gap: 6px; }
  .meta-label { font-weight: 600; color: #666; }
  .meta-value { color: #333; }
  
  .sentence-content { padding: 18px; background-color: #fafafa; border-left: 3px solid #3498db; margin-bottom: 12px; font-size: 15px; line-height: 1.7; color: #2c2c2c; }
  .highlight-match { background-color: #fef3c7; padding: 3px 7px; border-radius: 4px; font-weight: 600; color: #92400e; border: 1px solid #fde68a; }
  
  .linguistic-details { display: flex; gap: 24px; font-size: 12px; color: #666; flex-wrap: wrap; padding: 12px; background-color: #f9fafb; border-radius: 4px; }
  .detail-item { display: flex; gap: 6px; }
  .detail-label { font-weight: 600; color: #999; }
  .detail-value { color: #333; }
  
  .booster-hedge-section { margin-top: 12px; padding: 12px; background-color: #f0f9ff; border-radius: 4px; }
  .bh-title { font-weight: 600; font-size: 12px; color: #0369a1; margin-bottom: 8px; }
  .bh-words { display: flex; gap: 6px; flex-wrap: wrap; }
  .bh-word { background-color: #e0f2fe; color: #0c4a6e; padding: 4px 8px; border-radius: 3px; font-size: 11px; }
  
  .no-results { text-align: center; padding: 60px 20px; color: #999; font-size: 15px; }
  .loading { text-align: center; padding: 60px 20px; color: #3498db; font-size: 15px; }
  
  .view-sentence { display: block; }
  .view-profile { display: none; }
</style>
</head>
<body>
<div class="container">
  <header>
    <h1>Language Corpus Viewer</h1>
    <p class="subtitle">Browse and filter language samples by speaker characteristics and linguistic features</p>
  </header>
  
  <div class="view-toggle">
    <button class="toggle-btn active" onclick="switchView('sentence')">Sentence View</button>
    <button class="toggle-btn" onclick="switchView('profile')">Profile View</button>
  </div>
  
  <div class="controls-panel">
    <div class="controls-row">
      <div class="control-group">
        <label class="control-label">Gender</label>
        <select id="genderFilter">
          <option value="all">All Genders</option>
        </select>
      </div>
      
      <div class="control-group">
        <label class="control-label">Language</label>
        <select id="languageFilter">
          <option value="all">All Languages</option>
        </select>
      </div>
      
      <div class="control-group">
        <label class="control-label">Country</label>
        <select id="countryFilter">
          <option value="all">All Countries</option>
        </select>
      </div>
      
      <div class="control-group">
        <label class="control-label">Nativeness</label>
        <select id="nativenessFilter">
          <option value="all">All</option>
        </select>
      </div>
      
      <div class="control-group">
        <label class="control-label">Price Min</label>
        <input type="number" id="priceMin" placeholder="Min" step="0.01">
      </div>
      
      <div class="control-group">
        <label class="control-label">Price Max</label>
        <input type="number" id="priceMax" placeholder="Max" step="0.01">
      </div>
      
      <div class="control-group">
        <label class="control-label">Sort By</label>
        <select id="sortBySelect">
          <option value="name-asc">Name (A-Z)</option>
          <option value="name-desc">Name (Z-A)</option>
          <option value="price-asc">Price (Low to High)</option>
          <option value="price-desc">Price (High to Low)</option>
          <option value="boosters-desc">Most Boosters</option>
          <option value="hedges-desc">Most Hedges</option>
        </select>
      </div>
    </div>
    
    <div class="search-row">
      <input type="text" id="searchInput" class="search-input" placeholder="Search by name, sentence, or matched word...">
      <button class="search-button" onclick="applySearch()">Search</button>
    </div>
  </div>
  
  <div class="stats-bar">
    <div class="stat-item"><span class="stat-label">Total:</span><span class="stat-value" id="totalCount">0</span></div>
    <div class="stat-item"><span class="stat-label">Filtered:</span><span class="stat-value" id="filteredCount">0</span></div>
    <div class="stat-item"><span class="stat-label">Displayed:</span><span class="stat-value" id="displayedCount">0</span></div>
    <div class="stat-item"><span class="stat-label">Avg Price:</span><span class="stat-value" id="avgPrice">$0</span></div>
  </div>
  
  <div class="pagination view-sentence">
    <div class="pagination-info">Page <span id="currentPageDisplay">1</span> of <span id="totalPagesDisplay">1</span></div>
    <div class="pagination-controls">
      <button class="page-button" id="firstPageBtn" onclick="goToPage(1)">First</button>
      <button class="page-button" id="prevPageBtn" onclick="goToPage(currentPage - 1)">Previous</button>
      <div id="pageNumbers"></div>
      <button class="page-button" id="nextPageBtn" onclick="goToPage(currentPage + 1)">Next</button>
      <button class="page-button" id="lastPageBtn" onclick="goToPage(totalPages)">Last</button>
      <select class="page-size-select" id="pageSizeSelect" onchange="changePageSize()">
        <option value="10">10 per page</option>
        <option value="25" selected>25 per page</option>
        <option value="50">50 per page</option>
        <option value="100">100 per page</option>
      </select>
    </div>
  </div>
  
  <div id="contentArea">
    <div class="loading">Loading data...</div>
  </div>
  
  <div class="pagination view-sentence" style="margin-top: 24px;">
    <div class="pagination-info">Page <span id="currentPageDisplay2">1</span> of <span id="totalPagesDisplay2">1</span></div>
    <div class="pagination-controls">
      <button class="page-button" onclick="goToPage(1)">First</button>
      <button class="page-button" onclick="goToPage(currentPage - 1)">Previous</button>
      <button class="page-button" onclick="goToPage(currentPage + 1)">Next</button>
      <button class="page-button" onclick="goToPage(totalPages)">Last</button>
    </div>
  </div>
</div>
<script src="js/viewer.js"></script>
</body>
</html>